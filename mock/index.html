---
title: Mock API
layout: default
keywords: [mock,api,http]
description: 快速配置公网可访问的 mock http 接口
---

<li class="header-extend-item uk-parent" data-uk-dropdown="{mode:click}">
    <a class="uk-navbar-content">访问控制</a>
    <div id="access-manage" class="uk-dropdown uk-dropdown-navbar uk-dropdown-scrollable" 
        style="width:600px;height:400px;max-height:400px;">
        {% raw %}
        <table class="uk-table uk-table-hover">
            <div class="uk-form uk-form-row" style="float:right;">
                <input type="text" placeholder="请输入要新增的 accessKey 的别名" v-model="newAlias"/>
                <button class="uk-button uk-button-small uk-button-primary" v-on:click="addOne()">新增</button>
            </div>
            <thead>
                <tr>
                    <th>别名</th> <th>accessKey</th> <th>状态</th> <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="item in accessItemList" :key="item.accessKey">
                    <td class="uk-text-left"><p>{{ item.alias }}</p></td> 
                    <td class="uk-text-left">{{ item.accessKey }}</td> 
                    <td class="uk-text-left">{{ item.statusName }}</td>
                    <td class="uk-text-left">
                        <button class="uk-button uk-button-small" v-show="item.status == 1"
                            v-on:click="disableOne(item)">停用</button>
                        <button class="uk-button uk-button-small" v-show="item.status == 0"
                            v-on:click="enableOne(item)">启用</button>
                        <button class="uk-button uk-button-small uk-button-danger" 
                            v-on:click="deleteOne(item)">删除</button>
                    </td> 
                </tr>
            </tbody>
        </table>
        {% endraw %}
    </div>
    <script>
        vm_access_manage = new Vue({
            el:'#access-manage',
            data: {
                newAlias: '',
                accessItemList: [
                {
                        'alias': 'nihao',
                        accessKey: 'awfewhvgwjglqwibvlqebnvlqevaqev',
                        status:1,
                        statusName: '使用中'
                    },{
                        'alias': 'nihao',
                        accessKey: 'awfewhvgkwjglqwibvlqebnlqevaqev',
                        status:0,
                        statusName: '使用中'
                    },{
                        'alias': 'nihao',
                        accessKey: 'awfewhvgkwjglqwibvlqebnvlqevaev',
                        status:'0',
                        statusName: '使用中'
                    },{
                        'alias': 'nihao',
                        accessKey: 'awfewhvgkwjlqwibvlqebnvlqevaqev',
                        status:'1',
                        statusName: '使用中'
                    }
                ],
                
            },
            mounted: function () {
                WithFParams.postForm('/accessManage/listAll', 
                    {
                        from: 'mock'
                    },
                    (result) => {
                        vm_access_manage.accessItemList = result.data
                    }
                )
            },
            methods: {
                addOne: function() {
                    if (this.newAlias === '') {
                        vm_header_notify.notify('请输入要新增的 accessKey 的别名')
                    }
                },
                deleteOne: function(accessItem) {
                    WithFParams.postForm('/accessManage/deleteOne', 
                        {
                            from: 'mock',
                            accessKey: accessItem.accessKey,
                        },
                        (result) => {
                            var index = vm_access_manage.accessItemList.indexOf(accessItem)
                            if (index != -1) {
                                vm_access_manage.accessItemList.splice(index, 1)
                                vm_header_notify.notify('删除成功')
                            }
                        }
                    )
                },
            }
        })
    </script>
</li>
<script>
$('.header-extend-item').appendTo('#header-extend')
</script>