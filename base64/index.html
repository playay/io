---
title: Base64 编解码
layout: default
keywords: [base64图片, base64编码, base64解码]
description: 在线 Base64 编码、解码。支持文字、图片。智能适应“data:image/…”前缀，有无前缀都能解码出图片。实时显示结果，无需手动确认。自动保存偏好设置。开源的纯本地应用，保证数据安全。
---


<style type="text/css">
#drop_box {
    border: 1px dashed #ccc;
    height:280px;
}
#info_box {
    height:20px;
    padding: 10px;
    font-size: 14px;
}
@media (min-width: 960px) {
    .fl-box {
        width: 50%;
    }
}
@media (max-width: 960px) {
    .fl-box {
        width: 100%;
    }
}
</style>
<script>
    if (typeof localStorage.base64_activeTab == "undefined") {
        localStorage.base64_activeTab = 1
    }
</script>

<!-- 选项卡 -->
<div class="uk-width-10-10" style="margin-bottom: 10px;">
    <ul class="uk-tab uk-tab-top" data-uk-tab="{connect:'#main', active:localStorage.base64_activeTab, animation:'fade'}">
        <li><a id="activeTab0" onClick="localStorage.base64_activeTab = 0" href="#">文字</a></li>
        <li><a id="activeTab1" onClick="localStorage.base64_activeTab = 1" href="#">图片/文件</a></li>
    </ul>
</div>

<!-- 表单、结果 -->
<div class="uk-width-10-10">
    <ul id="main" class="uk-switcher">

        <!-- 文字 -->
        <li>
            <div id="text" class="uk-grid uk-grid-small">
                <div class="uk-width-1-2 fl-box">
                    <textarea class="uk-width-1-1" style="height: 240px;resize: vertical;" placeholder="编码前" spellcheck="false" v-model="origin" v-on:input="onChangeOrigin"></textarea>
                </div>
                <div class="uk-width-1-2 fl-box">
                    <textarea class="uk-width-1-1" style="height: 240px;resize: vertical;" placeholder="编码后" autofocus spellcheck="false" v-model="base64" v-on:input="onChangeBase64"></textarea>
                </div>
            </div>
        </li>

        <!-- 图片 -->
        <li>
            <div id="img" class="uk-grid uk-grid-small">
                <div class="uk-width-1-2 fl-box">
                    <textarea class="uk-width-1-1 jq_watermark" style="height: 320px;resize: none;" title="输入以下任一内容: <br> 1. 图片url地址 <br> 2. 带 'data:image/...' 前缀的图片 base64 <br> 3. 不带 'data:image/...' 前缀的图片 base64 " 
                    autofocus spellcheck="false" v-model="base64" v-on:input="onInputBase64"></textarea>
                </div>
                <div class="uk-width-1-2 fl-box">
                    <div id="drop_box" v-on:dragenter="ignoreDrag" v-on:dragover="ignoreDrag" v-on:drop="drop" v-on:click="clickDropBox">
                        <p style="width: 100%;height: 100%;text-align: center;line-height: 270px" 
                            v-show="base64 === ''">拖拽图片到此处 / 点击上传图片</p>
                        <img style="max-height: 280px;" v-bind:src="base64" v-if="base64.startsWith('data:image') || base64.startsWith('http')"></img>
                        <img style="max-height: 280px;" v-bind:src="'data:image;base64,' + base64" v-if="base64 != '' && !base64.startsWith('data:image') && !base64.startsWith('http') "></img>
                    </div>
                    <input type="file" style="display:none;" id="file_input" accept="image/*" 
                    v-on:change="onFileInputChange">
                    <div id="info_box" v-show="imgType !== ''">
                        <span>{% raw %}类型:&nbsp;{{ imgType }}&nbsp;&nbsp;&nbsp;&nbsp;大小:&nbsp;{{ imgSize }}{% endraw %}</span>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</div>

<script src="/js/base64.min.js"></script>
<script src="/js/jquery.watermark.js"></script>
<script>

    var vm_text = new Vue({
        el: "#text",
        data: {
            origin: 'base64 编码解码',
            base64: ''
        },
        mounted: function () {
            if (localStorage.base64_tab0_origin) {
                this.origin = localStorage.base64_tab0_origin
            }
            this.onChangeOrigin()
        },
        methods: {
            onChangeOrigin: function() {
                localStorage.base64_tab0_origin = this.origin
                this.base64 = Base64.encode(this.origin)
            },
            onChangeBase64: function() {
                this.origin = Base64.decode(this.base64)
                localStorage.base64_tab0_origin = this.origin
            }
        }
    })

    var vm_img = new Vue({
        el: "#img",
        data: {
            imgType: '',
            imgSize: '',
            base64: ''
        },
        mounted: function () {
            if (localStorage.base64_tab1_base64) {
                this.base64 = localStorage.base64_tab1_base64
            }
        },
        methods: {
            onInputBase64: function() {
                this.imgType = ''
                this.imgSize = ''
                if (this.base64.length < (1024 * 128)) {
                    localStorage.base64_tab1_base64 = this.base64
                }
            },
            ignoreDrag: function(event) {
                event.stopPropagation()
                event.preventDefault()
            },
            drop: function (event) {
                event.stopPropagation()
                event.preventDefault()
                var files = event.dataTransfer.files
                this.processImg(files[0])
            },
            onFileInputChange: function (event) {
                var files = event.target.files
                this.processImg(files[0])
            },
            clickDropBox: function(file) {
                $('#file_input').click()
            },
            processImg: function(file) {
                if (file) {
                    this.imgType = file.type
                    this.imgSize = file.size
                    var reader = new FileReader()
                    reader.onload = function (o) {
                        vm_img.base64 = o.target.result
                        if (vm_img.base64.length < (1024 * 128)) {
                            localStorage.base64_tab1_base64 = vm_img.base64
                        }
                        $('.jq_watermark').trigger('paste')
                    }
                    reader.readAsDataURL(file);
                }
            }
        }
    })
</script>