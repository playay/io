---
title: base64 编解码
layout: default
keywords: [feling.io, 在线工具, base64]
---

<style type="text/css">
#drop_box {
    border: 1px dashed #ccc;
    height:280px;
}
#info_box {
    height:20px;
    padding: 10px;
    font-size: 14px;
}
@media (min-width: 960px) {
    .fl-box {
        width: 50%;
    }
}
@media (max-width: 960px) {
    .fl-box {
        width: 100%;
    }
}
</style>

<!-- 选项卡 -->
<div class="uk-width-10-10" style="margin-bottom: 10px;">
    <ul class="uk-tab uk-tab-top" data-uk-tab="{connect:'#main', active:0, animation:'fade'}">
        <li><a href="#">文字</a></li>
        <li><a href="#">图片/文件</a></li>
    </ul>
</div>

<!-- 表单、结果 -->
<div class="uk-width-10-10">
    <ul id="main" class="uk-switcher">

        <!-- 文字 -->
        <li>
            <div id="text" class="uk-grid uk-grid-small">
                <div class="uk-width-1-2 fl-box">
                    <textarea class="uk-width-1-1" style="height: 240px;resize: vertical;" placeholder="编码前" autofocus spellcheck="false" v-model="origin" v-on:input="onInputOrigin"></textarea>
                </div>
                <div class="uk-width-1-2 fl-box">
                    <textarea class="uk-width-1-1" style="height: 240px;resize: vertical;" placeholder="编码后" autofocus spellcheck="false" v-model="base64" v-on:input="onInputBase64"></textarea>
                </div>
        </li>

        <!-- 图片 -->
        <li>
            <div id="img" class="uk-grid uk-grid-small">
                <div class="uk-width-1-2 fl-box">
                    <textarea class="uk-width-1-1" style="height: 320px;resize: none;" placeholder="输入 url地址 或 base64码" 
                    autofocus spellcheck="false" v-model="base64" v-on:input="onInputBase64"></textarea>
                </div>
                <div class="uk-width-1-2 fl-box">
                    <div id="drop_box" v-on:dragenter="ignoreDrag" v-on:dragover="ignoreDrag" v-on:drop="drop">
                        <p v-show="base64 === ''">拖拽图片到此处...</p>
                        <img style="max-height: 280px;" v-bind:src="base64"></img>
                    </div>
                    <div id="info_box" v-show="imgType !== ''">
                        <span>{% raw %}类型:&nbsp;{{ imgType }}&nbsp;&nbsp;&nbsp;&nbsp;大小:&nbsp;{{ imgSize }}{% endraw %}</span>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</div>

<script src="/js/base64.min.js"></script>
<script>
    var vm_text = new Vue({
        el: "#text",
        data: {
            origin: '你好',
            base64: ''
        },
        mounted: function () {
            this.onInputOrigin()
        },
        methods: {
            onInputOrigin: function() {
                this.base64 = Base64.encode(this.origin)
            },
            onInputBase64: function() {
                this.origin = Base64.decode(this.base64)
            }
        }
    })

    var vm_img = new Vue({
        el: "#img",
        data: {
            imgType: '',
            imgSize: '',
            base64: ''
        },
        methods: {
            onInputBase64: function() {
                this.imgType = ''
                this.imgSize = ''
            },
            ignoreDrag: function(event) {
                event.stopPropagation()
                event.preventDefault()
            },
            drop: function (event){
                event.stopPropagation()
                event.preventDefault()
                var files = event.target.files || event.dataTransfer.files
                this.processImg(files[0])
            },
            processImg: function(file) {
                if (file) {
                    this.imgType = file.type
                    this.imgSize = file.size
                    var reader = new FileReader()
                    reader.onload = function (o) {
                        vm_img.base64 = o.target.result
                    }
                    reader.readAsDataURL(file);
                }
            }
        }
    })
</script>